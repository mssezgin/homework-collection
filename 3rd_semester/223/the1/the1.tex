\documentclass[a4paper,12pt]{article}

\usepackage{float}


\usepackage[utf8]{inputenc}
\usepackage[dvips]{graphicx}
%\usepackage{a4wide}
\usepackage{epsfig}
\usepackage{fancybox}
\usepackage{verbatim}
\usepackage{array}
\usepackage{latexsym}
\usepackage{alltt}
\usepackage{amssymb}
\usepackage{amsmath,amsthm}
\usepackage{bm}
\usepackage{wasysym}

%\usepackage{fullpage}
%\usepackage{hyperref}
\usepackage{listings}
\usepackage{color}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage[hmargin=2cm,vmargin=3.0cm]{geometry}
%\topmargin=0cm
%\topmargin=-1.8cm
%\addtolength{\textheight}{6.5cm}
%\addtolength{\textwidth}{2.0cm}
%\setlength{\leftmargin}{-3cm}
%\setlength{\oddsidemargin}{0.0cm}
%\setlength{\evensidemargin}{0.0cm}

%misc libraries goes here
\usepackage{tikz}
\usepackage{tikz-qtree}
\usetikzlibrary{automata,positioning}

\usepackage{multicol}
\usepackage{enumitem}

\usepackage[most]{tcolorbox}

\usepackage[colorlinks=true,urlcolor=black,linkcolor=black]{hyperref}


\lstdefinestyle{customtex}{
    %backgroundcolor=\color{lbcolor},
    tabsize=2,
    language=TeX,
    numbers=none,
    basicstyle=\footnotesize\ttfamily,
    numberstyle=\footnotesize,
    aboveskip={0.0\baselineskip},
    belowskip={0.0\baselineskip},
    %
    columns=flexible,
    keepspaces=true,
    fontadjust=true,
    upquote=true,
    %
    breaklines=true,
    prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
    frame=single,
    showtabs=false,
    showspaces=false,
    showstringspaces=false,
    %
    %identifierstyle=\color[rgb]{0,0.2,0.8},
    identifierstyle=\color[rgb]{0,0,0.5},
    %identifierstyle=\color[rgb]{0.133,0.545,0.133},
    %keywordstyle=\color[rgb]{0.8,0,0},
    %keywordstyle=\color[rgb]{0.133,0.545,0.133},
    keywordstyle=\color[rgb]{0,0,0.5},
    %commentstyle=\color[rgb]{0.133,0.545,0.133},
    commentstyle=\color[rgb]{0.545,0.545,0.545},
    %stringstyle=\color[rgb]{0.827,0.627,0.133},
    stringstyle=\color[rgb]{0.133,0.545,0.133},
    %
    literate={â}{{\^{a}}}1 {Â}{{\^{A}}}1 {ç}{{\c{c}}}1 {Ç}{{\c{C}}}1 {ğ}{{\u{g}}}1 {Ğ}{{\u{G}}}1 {ı}{{\i}}1 {İ}{{\.{I}}}1   {ö}{{\"o}}1 {Ö}{{\"O}}1 {ş}{{\c{s}}}1 {Ş}{{\c{S}}}1 {ü}{{\"u}}1 {Ü}{{\"U}}1 {~}{$\sim$}{1}
}

\lstdefinestyle{output}{
    %backgroundcolor=\color{lbcolor},
    tabsize=2,
    numbers=none,
    basicstyle=\footnotesize\ttfamily,
    numberstyle=\footnotesize,
    aboveskip={0.0\baselineskip},
    belowskip={0.0\baselineskip},
    %
    columns=flexible,
    keepspaces=true,
    fontadjust=true,
    upquote=true,
    %
    breaklines=true,
    prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
    frame=single,
    showtabs=false,
    showspaces=false,
    showstringspaces=false,
    %
    %identifierstyle=\color[rgb]{0.44,0.12,0.1},
    identifierstyle=\color[rgb]{0,0,0},
    keywordstyle=\color[rgb]{0,0,0},
    commentstyle=\color[rgb]{0,0,0},
    stringstyle=\color[rgb]{0,0,0},
    %
    literate={â}{{\^{a}}}1 {Â}{{\^{A}}}1 {ç}{{\c{c}}}1 {Ç}{{\c{C}}}1 {ğ}{{\u{g}}}1 {Ğ}{{\u{G}}}1 {ı}{{\i}}1 {İ}{{\.{I}}}1   {ö}{{\"o}}1 {Ö}{{\"O}}1 {ş}{{\c{s}}}1 {Ş}{{\c{S}}}1 {ü}{{\"u}}1 {Ü}{{\"U}}1
}

\lstset{style=customtex}


\tikzset{%
    terminal/.style={draw, rectangle,
    				 align=center, 
					 minimum height=1cm, 
					 minimum width=2cm,
					 fill=black!10,
					 anchor=mid},
    nonterminal/.style={draw, rectangle,
    					align=left,
					    minimum height=1cm, 
						minimum width=2cm, 
						anchor=mid},% and so on
}

%% Style for terminals
%\tikzstyle{terminal}=[draw, rectangle, 
%					  minimum height=1cm, 
%					  minimum width=2cm, 
%					  fill=black!20,
%					  anchor=south west]
%% Style for nonterminals
%\tikzstyle{nonterminal}=[draw, rectangle, 
%						 minimum height=1 cm, 
%						 minimum width=2 cm, 
%						 anchor=north east]


\newcommand{\HRule}{\rule{\linewidth}{1mm}}
\newcommand{\kutu}[2]{\framebox[#1mm]{\rule[-2mm]{0mm}{#2mm}}}
\newcommand{\gap}{ \\[1mm] }

\newcommand{\Q}{\raisebox{1.7pt}{$\scriptstyle\bigcirc$}}
\newcommand{\minus}{\scalebox{0.35}[1.0]{$-$}}

\setlength{\fboxsep}{10pt}

\tcbsetforeverylayer{enhanced jigsaw, breakable, arc=0mm, boxrule=1pt, boxsep=5pt, after=\vspace{1em}, colback=white, colframe=black}

\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}

\setlength\parindent{0pt}
\newcommand\tab[1][1cm]{\hspace*{#1}}

%\renewcommand\arraystretch{1.2}

\newenvironment{Tab}[1]
  {\def\arraystretch{1}\tabular{#1}}
  {\endtabular}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{Discrete Computational Structures \\ Take Home Exam 1}
\author{Mustafa SEZGİN \\ 2380863} % write your name and id
\date{} % do not write any date

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
\HRule\\
Middle East Technical University \hfill Department of Computer Engineering
{\let\newpage\relax\maketitle}
\HRule\\
\vspace{1cm}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Write your answers below the section tags
\section*{Question 1 \hfill \normalfont{(7 pts)}}

\tab \textbf{a)} Construct a truth table for the following compound proposition.
\begin{equation*}
    (q \rightarrow \neg p)\leftrightarrow (p \leftrightarrow \neg q)
\end{equation*} 
\hfill \small{(3.5/7 pts)} \\
\begin{tcolorbox}
\centering
\begin{tabular}{c|c|c|c|c|c|c}
    $p$ & $q$ & $\neg p$ & $\neg q$ & $q \rightarrow \neg p$ & $p \leftrightarrow \neg q$ & $(q \rightarrow \neg p) \leftrightarrow (p \leftrightarrow \neg q)$ \\
    \hline
    T & T & F & F & F & F & T \\
    T & F & F & T & T & T & T \\
    F & T & T & F & T & T & T \\
    F & F & T & T & T & F & F
\end{tabular}
\end{tcolorbox}

\newpage
\tab \textbf{b)} Show that whether the following conditional statement is a tautology by using a truth table.
\begin{equation*}
    [(p \vee q) \wedge (r \rightarrow p) \wedge (r \rightarrow q)] \rightarrow r
\end{equation*}
\hfill \small{(3.5/7 pts)}\\
\begin{tcolorbox}
\centering
\begin{tabular}{c|c|c|c|c|c|c|c}
    $p$ & $q$ & $r$ & $p \vee q$ & $r \rightarrow p$ & $r \rightarrow q$ & $(p \vee q) \wedge (r \rightarrow p) \wedge (r \rightarrow q)$ & $[(p \vee q) \wedge (r \rightarrow p) \wedge (r \rightarrow q)] \rightarrow r$ \\
    \hline
    T & T & T & T & T & T & T & T \\
    T & T & F & T & T & T & T & F \\
    T & F & T & T & T & F & F & T \\
    T & F & F & T & T & T & T & F \\
    F & T & T & T & F & T & F & T \\
    F & T & F & T & T & T & T & F \\
    F & F & T & F & F & F & F & T \\
    F & F & F & F & T & T & F & T 
\end{tabular}
\end{tcolorbox}

%\newpage
\section*{Question 2 \hfill \normalfont{(8 pts)}}
\tab Show that $(p \rightarrow q) \wedge (p \rightarrow r)$ and $(\neg q \vee \neg r)\rightarrow \neg p$ are logically equivalent. Use tables 6,7 and 8 given under the section "$\textit{Propositional Equivalences}$" in the course textbook and give the reference to the table and the law in each step.

\begin{tcolorbox}
\centering
\begin{tabular}{r l l}
    $(p \rightarrow q) \wedge (p \rightarrow r)$ & $\equiv \ (\neg p \vee q) \wedge (\neg p \vee r)$ & first equation in Table 7 \\
    & $\equiv \ \neg p \vee (q \wedge r)$ & distributive law in Table 6 \\
    & $\equiv \ p \rightarrow (q \wedge r)$ & first equation in Table 7 \\
    & $\equiv \ \neg (q \wedge r) \rightarrow \neg p$ & second equation in Table 7 \\
    & $\equiv \ (\neg q \vee \neg r) \rightarrow \neg p$ & De Morgan's law in Table 6 \\
    & & \hfill $\qedsymbol$
\end{tabular}
\end{tcolorbox}

\newpage
\section*{Question 3 \hfill \normalfont{(30 pts, 2.5 pts each)}}
\tab Let F(x, y) mean that x is the father of y; M(x, y) denotes x is the mother of y. Similarly,
H(x, y), S(x, y), and B(x, y) say that x is the husband/sister/brother of y, respectively. You
may also use constants to denote individuals, like Sam and Alex. You can use $\vee, \wedge, \rightarrow, \neg, \forall, \exists$ rules and quantifiers. However, you are not allowed
to use any predicate symbols other than the above to translate the following sentences into
predicate logic. $\exists$! and exclusive-or (XOR) quantifiers are forbidden:
\begin{multicols}{2}
\begin{enumerate}[label=\textbf{\arabic*})]
\item Everybody has a mother.
\item Everybody has a father and a mother.
\item Whoever has a mother has a father.
\item Sam is a grandfather.
\item All fathers are parents.
\item All husbands are spouses.
\item No uncle is an aunt.
\item All brothers are siblings.
\item Nobody's grandmother is anybody's father.
\item Alex is Ali's brother-in-law.
\item Alex has at least two children.
\item Everybody has at most one mother.
\end{enumerate}
\end{multicols}
\begin{tcolorbox}
\begin{enumerate}
    \item $\forall y \exists x M(x,y)$
    \item $\forall y \left[\exists x F(x,y) \wedge \exists x M(x,y)\right]$
    \item $\forall z \left[\exists x M(x,z) \rightarrow \exists y F(y,z)\right]$
    \item $\exists x \exists y \left[F(Sam,x) \wedge (F(x,y) \vee M(x,y))\right]$
    \item $\forall x \left[\exists y F(x,y) \rightarrow \exists z (F(x,z) \vee M(x,z))\right]$
    \item $\forall x \left[\exists y H(x,y) \rightarrow \exists z \left(H(x,z) \vee H(z,x)\right)\right]$
    \item $\forall x \left[\exists y \left(B(x,y) \wedge \exists z \left(F(y,z) \vee M(y,z)\right)\right) \rightarrow \neg \exists y \left(S(x,y) \wedge \exists z \left(F(y,z) \vee M(y,z)\right)\right)\right]$
    \item $\exists x \left[\forall y \left(\exists z B(y,z) \rightarrow F(x,y)\right) \vee \forall y \left(\exists z B(y,z) \rightarrow M(x,y)\right)\right]$
    \item $\neg \exists x \left[\exists y \left(M(x,y) \wedge \exists z \left(F(y,z) \vee M(y,z)\right)\right) \wedge \exists t F(x,t)\right]$
    \item $\exists y \left[\left(B(Alex,y) \wedge H(Ali,y)\right) \vee \left(H(Alex,y) \wedge B(Ali,y)\right)\right]$
    \item $\exists x \exists y \left[\neg (x=y) \wedge \left(\left(F(Alex,x) \wedge F(Alex,y)\right) \vee \left(M(Alex,x) \wedge M(Alex,y)\right)\right)\right]$
    \item $\forall x \left[\neg \exists y \exists z \left(M(y,x) \wedge M(z,x) \wedge \neg \left(y=z\right) \right)\right]$
\end{enumerate}
\end{tcolorbox}


\newpage
\section*{Question 4 \hfill \normalfont{(25 pts)}}
\tab Prove the following claim by natural deduction. Use only the natural deduction rules $\vee$, $\wedge$, $\rightarrow$, $\neg$ introduction and elimination. If you attempt to make use of a lemma or equivalence, you need to prove it by natural deduction too.
\begin{equation*}
    \textbf{a)} \; p \rightarrow q, r \rightarrow s \vdash (p \vee r) \rightarrow (q \vee s)
\end{equation*}
\hfill \small{(12.5/25 pts)}\\
\begin{tcolorbox}
\centering
\begin{tabular}{l l l l l}
    $1$  & & $p \rightarrow q$ & premise & \\
    
    $2$  & & $r \rightarrow s$ & premise & \\ \cline{2-5}
    
    $3$  & \multicolumn{1}{|l}{} & $p \vee r$ & assumption & \multicolumn{1}{l|}{} \\ \cline{3-4}
    
    $4$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$p$} & \multicolumn{1}{l|}{assumption} & \multicolumn{1}{l|}{} \\
    
    $5$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$q$} & \multicolumn{1}{l|}{$\rightarrow$e $1,4$} & \multicolumn{1}{l|}{} \\
    
    $6$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$q \vee s$} & \multicolumn{1}{l|}{$\vee$i $5$} & \multicolumn{1}{l|}{} \\ \cline{3-4} \cline{3-4}
    
    $7$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$r$} & \multicolumn{1}{l|}{assumption} & \multicolumn{1}{l|}{} \\
    
    $8$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$s$} & \multicolumn{1}{l|}{$\rightarrow$e $2,7$} & \multicolumn{1}{l|}{} \\
    
    $9$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$q \vee s$} & \multicolumn{1}{l|}{$\vee$i $8$} & \multicolumn{1}{l|}{} \\ \cline{3-4}
    
    $10$ & \multicolumn{1}{|l}{} & $q \vee s$ & $\vee$e $3,4-6,7-9$ & \multicolumn{1}{l|}{} \\ \cline{2-5}
    
    $11$ & & $(p \vee r) \rightarrow (q \vee s)$ & $\rightarrow$i $3-10$ &
\end{tabular}
\end{tcolorbox}
\begin{equation*}
     \textbf{b)} \;  (p \rightarrow (r \rightarrow \neg q)) \rightarrow ((p \wedge q) \rightarrow \neg r)
\end{equation*}

\hfill \small{(12.5/25 pts)}\\
\begin{tcolorbox}
\centering
\begin{tabular}{l l l l l l l} 
    \cline{2-7}
    
    $1$  & \multicolumn{1}{|l}{} & & $p \rightarrow (r \rightarrow \neg q)$ & assumption & & \multicolumn{1}{l|}{} \\ \cline{3-6}
    
    $2$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & $p \wedge q$ & assumption & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{4-5}
    
    $3$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$r$} & \multicolumn{1}{l|}{assumption} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $4$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$p$} & \multicolumn{1}{l|}{$\wedge$e $2$} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $5$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$r \rightarrow \neg q$} & \multicolumn{1}{l|}{$\rightarrow$e $1,4$} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $6$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$\neg q$} & \multicolumn{1}{l|}{$\rightarrow$e $3,5$} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $7$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$q$} & \multicolumn{1}{l|}{$\wedge$e $2$} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $8$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$\bot$} & \multicolumn{1}{l|}{$\neg$e $6,7$} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{4-5}
    
    $9$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & $\neg r$ & $\neg$i $3-8$ & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{3-6}
    
    $10$ & \multicolumn{1}{|l}{} & & $(p \wedge q) \rightarrow \neg r$ & $\rightarrow$i $2-9$ & & \multicolumn{1}{l|}{} \\ \cline{2-7}
    
    $11$ & & & $(p \rightarrow (r \rightarrow \neg q)) \rightarrow ((p \wedge q) \rightarrow \neg r)$ & $\rightarrow$i $1-10$ & &
\end{tabular}
\end{tcolorbox}

\newpage
\section*{Question 5 \hfill \normalfont{(30 pts)}}
\tab Prove the following claim by natural deduction. Use only the natural deduction rules $\vee$, $\wedge$, $\rightarrow$, $\neg$ introduction and elimination. If you attempt to make use of a lemma or equivalence, you need to prove it by natural deduction too.


\begin{equation*}
    \textbf{a)} \; \forall x P(x) \vee \forall x Q(x) \vdash \forall x (P(x) \vee Q(x)) 
\end{equation*}

\hfill \small{(12.5/25 pts)}\\
\begin{tcolorbox}
\centering
\begin{tabular}{l l l l l}
    $1$ & & $\forall x P(x) \vee \forall x Q(x)$ & premise & \\ \cline{2-5}
    
        & \multicolumn{1}{|l}{$x_0$} & & & \multicolumn{1}{l|}{} \\ \cline{3-4}
    
    $2$ & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$\forall x P(x)$} & \multicolumn{1}{l|}{assumption} & \multicolumn{1}{l|}{} \\
    
    $3$ & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$P(x_0)$} & \multicolumn{1}{l|}{$\forall$e $2$} & \multicolumn{1}{l|}{} \\
    
    $4$ & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$P(x_0) \vee Q(x_0)$} & \multicolumn{1}{l|}{$\vee$i $3$} & \multicolumn{1}{l|}{} \\ \cline{3-4} \cline{3-4}
    
    %& \multicolumn{1}{|l}{} & & & \multicolumn{1}{l|}{} \\ \cline{3-4}
    
    $5$ & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$\forall x Q(x)$} & \multicolumn{1}{l|}{assumption} & \multicolumn{1}{l|}{} \\
    
    $6$ & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$Q(x_0)$} & \multicolumn{1}{l|}{$\forall$e $5$} & \multicolumn{1}{l|}{} \\
    
    $7$ & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$P(x_0) \vee Q(x_0)$} & \multicolumn{1}{l|}{$\vee$i $6$} & \multicolumn{1}{l|}{} \\ \cline{3-4}
    
    $8$ & \multicolumn{1}{|l}{} & $P(x_0) \vee Q(x_0)$ & $\vee$e $1,2-4,5-7$ & \multicolumn{1}{l|}{} \\ \cline{2-5}
    
    $9$ & & $\forall x (P(x) \vee Q(x))$ & $\forall$i $2-8$ &
\end{tabular}
\end{tcolorbox}

\begin{equation*}
    \textbf{b)} \; \forall x P(x) \rightarrow S \vdash \exists x (P(x)\rightarrow S)\\
\end{equation*}

\hfill \small{(17.5/25 pts)}\\
\begin{tcolorbox}
\centering
\begin{tabular}{l l l l l l l l l}
    $1$  & & & & $\forall x P(x) \rightarrow S$ & premise & & & \\ \cline{2-9}

    $2$  & \multicolumn{1}{|l}{} & & & $\neg (\neg \forall x P(x) \vee S)$ & assumption & & & \multicolumn{1}{l|}{} \\ \cline{3-8}
    
    $3$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & & $\forall x P(x)$ & assumption & & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $4$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & & $S$ & $\rightarrow$e $1,3$ & & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $5$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & & $\neg \forall x P(x) \vee S$ & $\vee$i $4$ & & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $6$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & & $\bot$ & $\neg$e $2,5$ & & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{3-8}
    
    $7$  & \multicolumn{1}{|l}{} & & & $\neg \forall x P(x)$ & $\neg$i $3-6$ & & & \multicolumn{1}{l|}{} \\
    
    $8$  & \multicolumn{1}{|l}{} & & & $\neg \forall x P(x) \vee S$ & $\vee$i $7$ & & & \multicolumn{1}{l|}{} \\
    
    $9$  & \multicolumn{1}{|l}{} & & & $\bot$ & $\neg$e $2,8$ & & & \multicolumn{1}{l|}{} \\ \cline{2-9}

    $10$  & & & & $\neg \neg (\neg \forall x P(x) \vee S)$ & $\neg$i $2-9$ & & & \\
    
    $11$  & & & & $\neg \forall x P(x) \vee S$ & $\neg \neg$e $10$ & & & \\ \cline{2-9}
    
    $12$  & \multicolumn{1}{|l}{} & & & $\neg \forall x P(x)$ & assumption & & & \multicolumn{1}{l|}{} \\ \cline{3-8}
    
    $13$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & & $\neg \exists x \neg P(x)$ & assumption & & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{4-7}
    
         & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$x_0$} & & & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{5-6}
    
    $14$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$\neg P(x_0)$} & \multicolumn{1}{l|}{assumption} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $15$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$\exists x \neg P(x)$} & \multicolumn{1}{l|}{$\exists$i $14$} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $16$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$\bot$} & \multicolumn{1}{l|}{$\neg$e $13,15$} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{5-6}
    
    $17$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & $\neg \neg P(x_0)$ & $\neg$i $14-16$ & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $18$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & $P(x_0)$ & $\neg \neg$e $17$ & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{4-7}
    
    $19$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & & $\forall x P(x)$ & $\forall$i $14-18$ & & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $20$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & & $\bot$ & $\neg$e $12,19$ & & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{3-8}
    
    $21$  & \multicolumn{1}{|l}{} & & & $\neg \neg \exists x \neg P(x)$ & $\neg$i $13-20$ & & & \multicolumn{1}{l|}{} \\
    
    $22$  & \multicolumn{1}{|l}{} & & & $\exists x \neg P(x)$ & $\neg \neg$e $21$ & & & \multicolumn{1}{l|}{} \\ \cline{3-8}
    
    $23$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & $x_1$ & $\neg P(x_1)$ & assumption & & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $24$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & & $\neg P(x_1) \vee S$ & $\vee$i $23$ & & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $25$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & & $\exists x (\neg P(x) \vee S)$ & $\exists$i $24$ & & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{3-8}
    
    $26$  & \multicolumn{1}{|l}{} & & & $\exists x (\neg P(x) \vee S)$ & $\exists$e $22,23-25$ & & & \multicolumn{1}{l|}{} \\ \cline{2-9} \cline{2-9}
    
    $27$  & \multicolumn{1}{|l}{} & & & $S$ & assumption & & & \multicolumn{1}{l|}{} \\ \cline{3-8}
    
    $28$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & & $\neg \exists x (\neg P(x) \vee S)$ & assumption & & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{4-7}
    
    $29$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{$x_2$} & $S$ & $27$ & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $30$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & $\neg P(x_2) \vee S$ & $\vee$i $29$ & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $31$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & $\exists x (\neg P(x) \vee S)$ & $\exists$i $30$ & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $32$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & $\bot$ & $\neg$e $28,31$ & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{4-7}
    
    $33$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & & $\bot$ & $29-32$ & & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{3-8}
    
    $34$  & \multicolumn{1}{|l}{} & & & $\neg \neg \exists x (\neg P(x) \vee S)$ & $\neg$i $28-33$ & & & \multicolumn{1}{l|}{} \\
    
    $35$  & \multicolumn{1}{|l}{} & & & $\exists x (\neg P(x) \vee S)$ & $\neg \neg$e $34$ & & & \multicolumn{1}{l|}{} \\ \cline{2-9}
    
    $36$  & & & & $\exists x (\neg P(x) \vee S)$ & $\vee$e $11,12-26,27-35$ & & & \\ \cline{2-9}
    
    $37$  & \multicolumn{1}{|l}{} & & $x_3$ & $\neg P(x_3) \vee S$ & assumption & & & \multicolumn{1}{l|}{} \\ \cline{3-8}
    
    $38$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & & $P(x_3)$ & assumption & & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{4-7}
    
    $39$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & $\neg P(x_3)$ & assumption & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $40$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & $\bot$ & $\neg$e $38,39$ & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\
    
    $41$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & $S$ & $\bot$e $40$ & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{4-7} \cline{4-7}
    
    $42$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & $S$ & assumption & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{4-7}
    
    $43$  & \multicolumn{1}{|l}{} & \multicolumn{1}{|l}{} & & $S$ & $\vee$e $37,39-41,42$ & & \multicolumn{1}{l|}{} & \multicolumn{1}{l|}{} \\ \cline{3-8}
    
    $44$  & \multicolumn{1}{|l}{} & & & $P(x_3) \rightarrow S$ & $\rightarrow$i $38-43$ & & & \multicolumn{1}{l|}{} \\
    
    $45$  & \multicolumn{1}{|l}{} & & & $\exists x (P(x) \rightarrow S)$ & $\exists$i $44$ & & & \multicolumn{1}{l|}{} \\ \cline{2-9}
    
    $46$  & & & & $\exists x (P(x) \rightarrow S)$ & $\exists$e $36,37-45$ & & &
\end{tabular}
\end{tcolorbox}

\end{document}
